if CLIENT then

	language.Add("Niko663HaloSWEPS.BruteGrenades_ammo", "Brute Grenades")
	language.Add("Niko663HaloSWEPS.FuelRodCartridges_ammo", "Fuel Rod Cartridges")
	language.Add("Niko663HaloSWEPS.Needles_ammo", "Needler Rounds")
	language.Add("Niko663HaloSWEPS.CarbineRadioactivePackets_ammo", "Carbine Rounds")
	language.Add("Niko663HaloSWEPS.SpikerRounds_ammo", "Spiker Rounds")
	language.Add("Niko663HaloSWEPS.MaulerBarrels_ammo", "Mauler Rounds")
	language.Add("Niko663HaloSWEPS.SMGRounds_ammo", "SMG Rounds")
	language.Add("Niko663HaloSWEPS.ShotgunShells_ammo", "Shotgun Shells")
	language.Add("Niko663HaloSWEPS.MagnumRounds_ammo", "Magnum Rounds")
	language.Add("Niko663HaloSWEPS.BRRounds_ammo", "BR Rounds")
	language.Add("Niko663HaloSWEPS.SniperRounds_ammo", "Sniper Rounds")
	language.Add("Niko663HaloSWEPS.Rockets_ammo", "Rockets")
	language.Add("Niko663HaloSWEPS.ARRounds_ammo", "AR Rounds")
	language.Add("Niko663HaloSWEPS.Grenades_ammo", "Frag Grenades")

end

game.AddDecal( "ESScorchH3", "effects/halo3/energyswordscorch" )
game.AddDecal( "SNTBeamScorchH3", "models/sntbeamh3/sntbeamscorchh3" )
game.AddDecal( "PPScorchH3", "effects/halo3/plasmapistolscorch" )
game.AddDecal( "PRScorchH3", "effects/halo3/plasmariflescorch" )
game.AddDecal( "PCScorchH3", "effects/halo3/plasmaturretscorch" )
game.AddDecal( "FuelRodScorchH3", "effects/halo3/fuelrodscorch" )
game.AddDecal( "BeamImpactH3", "effects/halo3/beamrifleimpact" )
game.AddDecal( "CarbineImpactH3", "effects/halo3/carbineimpact" )
game.AddDecal( "LazerImpactH3", "effects/halo3/lazerimpact" )
game.AddDecal( "LazerScorchH3", "effects/halo3/lazerscorch" )
game.AddParticles("particles/halo3_effects.pcf")
PrecacheParticleSystem("halo3_gravityhammer_additive")
PrecacheParticleSystem("halo3_gravityhammer_flash")
PrecacheParticleSystem("halo3_gravityhammer_fx")
PrecacheParticleSystem("halo3_gravityhammer_shockwave")
PrecacheParticleSystem("halo3_gravityhammer_secondary_sparks")
PrecacheParticleSystem("halo3_gravityhammer_sparks")
PrecacheParticleSystem("smoke_plasmarifle_halo3")
PrecacheParticleSystem("smoke_plasmarifle_halo3_third")
PrecacheParticleSystem("smoke_plasmapistol_halo3_third")
PrecacheParticleSystem("smoke_plasmapistol_halo3")
PrecacheParticleSystem("smoke_beamrifle_halo3")
PrecacheParticleSystem("smoke_beamrifle_halo3_third")
PrecacheParticleSystem("smoke_sntbeam_halo3")
PrecacheParticleSystem("smoke_sntbeam_halo3_third")
PrecacheParticleSystem("smoke_carbine_halo3")
PrecacheParticleSystem("smoke_carbine_halo3_third")
PrecacheParticleSystem("smoke_unsc_halo3")
PrecacheParticleSystem("smoke_unsc_halo3_third")
PrecacheParticleSystem("halo3_muzzle_assaultrifle")
PrecacheParticleSystem("halo3_muzzle_assaultrifle_fp")
PrecacheParticleSystem("halo3_muzzle_battlerifle")
PrecacheParticleSystem("halo3_muzzle_battlerifle_fp")
PrecacheParticleSystem("halo3_muzzle_beamrifle")
PrecacheParticleSystem("halo3_muzzle_beamrifle_fp")
PrecacheParticleSystem("halo3_muzzle_bruteshot")
PrecacheParticleSystem("halo3_muzzle_bruteshot_fp")
PrecacheParticleSystem("halo3_muzzle_carbine")
PrecacheParticleSystem("halo3_muzzle_carbine_fp")
PrecacheParticleSystem("halo3_muzzle_fuelrod")
PrecacheParticleSystem("halo3_muzzle_fuelrod_fp")
PrecacheParticleSystem("halo3_muzzle_lazer")
PrecacheParticleSystem("halo3_muzzle_lazer_fp")
PrecacheParticleSystem("halo3_muzzle_lazercharging")
PrecacheParticleSystem("halo3_muzzle_lazercharging_fp")
PrecacheParticleSystem("halo3_muzzle_magnum")
PrecacheParticleSystem("halo3_muzzle_magnum_fp")
PrecacheParticleSystem("halo3_muzzle_mauler")
PrecacheParticleSystem("halo3_muzzle_mauler_fp")
PrecacheParticleSystem("halo3_muzzle_missilepod")
PrecacheParticleSystem("halo3_muzzle_missilepod_fp")
PrecacheParticleSystem("halo3_muzzle_needler")
PrecacheParticleSystem("halo3_muzzle_needler_fp")
PrecacheParticleSystem("halo3_muzzle_plasmapistol")
PrecacheParticleSystem("halo3_muzzle_plasmapistol_fp")
PrecacheParticleSystem("halo3_muzzle_plasmapistolcharged")
PrecacheParticleSystem("halo3_muzzle_plasmapistolcharged_fp")
PrecacheParticleSystem("halo3_muzzle_plasmarifle")
PrecacheParticleSystem("halo3_muzzle_plasmarifle_fp")
PrecacheParticleSystem("halo3_muzzle_plasmaturret")
PrecacheParticleSystem("halo3_muzzle_plasmaturret_fp")
PrecacheParticleSystem("halo3_muzzle_rocketlauncher")
PrecacheParticleSystem("halo3_muzzle_rocketlauncher_fp")
PrecacheParticleSystem("halo3_muzzle_shotgun")
PrecacheParticleSystem("halo3_muzzle_shotgun_fp")
PrecacheParticleSystem("halo3_muzzle_smg")
PrecacheParticleSystem("halo3_muzzle_smg_fp")
PrecacheParticleSystem("halo3_muzzle_sniper")
PrecacheParticleSystem("halo3_muzzle_sniper_fp")
PrecacheParticleSystem("halo3_muzzle_sentinelbeam")
PrecacheParticleSystem("halo3_muzzle_sentinelbeam_fp")
PrecacheParticleSystem("halo3_muzzle_spiker")
PrecacheParticleSystem("halo3_muzzle_spiker_fp")
PrecacheParticleSystem("halo3_muzzle_turret")
PrecacheParticleSystem("halo3_muzzle_turret_fp")
PrecacheParticleSystem("flash_sworddraw_halo3")
PrecacheParticleSystem("flash_swordfx_halo3")
PrecacheParticleSystem("Tracer")
CreateConVar("halo3_grenade","1",{FCVAR_ARCHIVE,FCVAR_REPLICATED,FCVAR_CHEAT,FCVAR_NOTIFY})
CreateConVar("halosweps_objweaponspeedloss","1",{FCVAR_ARCHIVE,FCVAR_REPLICATED,FCVAR_CHEAT,FCVAR_NOTIFY})
CreateConVar("halosweps_givegrenades","1",{FCVAR_ARCHIVE,FCVAR_REPLICATED,FCVAR_NOTIFY})
CreateConVar("halosweps_9999nades","0",{FCVAR_ARCHIVE,FCVAR_REPLICATED,FCVAR_CHEAT,FCVAR_NOTIFY})
CreateConVar("halosweps_shelleffects","1",{FCVAR_ARCHIVE,FCVAR_REPLICATED,FCVAR_CHEAT,FCVAR_NOTIFY})
AddCSLuaFile( "autorun/client/cl_objectivesoundsh3.lua")
local HaloSWEPSDialougeTimer = CurTime()

local function HaloSWEPSAmmoInit()
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", 0 )
game.AddAmmoType( {
	name = "Niko663HaloSWEPS.BruteGrenades",
	dmgtype = DMG_BLAST
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.FuelrodCartridges",
	dmgtype = DMG_BLAST
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.Needles",
	dmgtype = DMG_BULLET
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.CarbineRadioactivePackets",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.SpikerRounds",
	dmgtype = DMG_BULLET
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.MaulerBarrels",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.SMGRounds",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.ShotgunShells",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.MagnumRounds",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.BRRounds",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.SniperRounds",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.Rockets",
	dmgtype = DMG_BLAST
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.ARRounds",
	dmgtype = DMG_BULLET,
	tracer = TRACER_LINE_AND_WHIZZ,
	maxsplash = 7,
	minsplash = 5
} )

game.AddAmmoType( {
	name = "Niko663HaloSWEPS.Grenades",
	dmgtype = DMG_BLAST
} )
end
hook.Add( "Initialize", "GiveHaloSWEPSAmmoH3", HaloSWEPSAmmoInit )

local function GrenadesHalo3(ply)
	if IsValid(ply) and GetConVar("halosweps_givegrenades"):GetInt() == 1 and GetConVar("halosweps_9999nades"):GetInt() == 0 then
 	timer.Simple( 0.1, function() if IsValid(ply) and ply:GetAmmoCount( "Niko663HaloSWEPS.Grenades" ) <= 0 then ply:GiveAmmo( 4, "Niko663HaloSWEPS.Grenades", true ) end end )
	elseif IsValid(ply) and GetConVar("halosweps_givegrenades"):GetInt() == 1 and GetConVar("halosweps_9999nades"):GetInt() == 1 then
	timer.Simple( 0.1, function() if IsValid(ply) and ply:GetAmmoCount( "Niko663HaloSWEPS.Grenades" ) <= 0 then ply:GiveAmmo( 9999, "Niko663HaloSWEPS.Grenades", true ) end end )
	end
end


local function ResetNeedlesSpawn(ply)
	if IsValid(ply) then
	ply:SetNWFloat( "NextHaloSWEPSAnnouncerDialouge", 0 )
 	ply:SetNW2Int( "Niko663HaloSWEPSNeedles", 0 )
	ply.DeadByNeedlerH3 = false
	ply.DeadBySpikerH3 = false
	end
end

local function ResetNeedlesDeath(victim, attacker, inflictor)
	if IsValid(victim) then
 	victim:SetNW2Int( "Niko663HaloSWEPSNeedles", 0 )
	victim.DeadByNeedlerH3 = true
	victim.DeadBySpikerH3 = true
	end
end

hook.Add( "PlayerSpawnedSWEP", "SwapObjWeaponsHalo3", function( ply, ent )
	if ( ent:GetClass() == "halo3_redflag" ) then
		if (SERVER) and IsFirstTimePredicted() then
		local RedFlag = ents.Create("flag_red_halo3")
		RedFlag:SetPos( ply:GetEyeTrace().HitPos + RedFlag:GetUp() * -20  )
		RedFlag:SetAngles(RedFlag:AlignAngles(RedFlag:GetAngles(), ply:GetRight():Angle() + Angle(0,-90,0)))
		RedFlag:Spawn()
		RedFlag:Activate()
		RedFlag.DroppedByPlayer = false
		undo.Create("Red Flag H3")
 		undo.AddEntity(RedFlag)
 		undo.SetPlayer(ply)
		undo.Finish()
		SafeRemoveEntity(ent)
	end
	elseif ( ent:GetClass() == "halo3_blueflag" ) then
		if (SERVER) and IsFirstTimePredicted() then
		local BlueFlag = ents.Create("flag_blue_halo3")
		BlueFlag:SetPos( ply:GetEyeTrace().HitPos + BlueFlag:GetUp() * -20  )
		BlueFlag:SetAngles(BlueFlag:AlignAngles(BlueFlag:GetAngles(), ply:GetRight():Angle() + Angle(0,-90,0)))
		BlueFlag:Spawn()
		BlueFlag:Activate()
		BlueFlag.DroppedByPlayer = false
		undo.Create("Blue Flag H3")
 		undo.AddEntity(BlueFlag)
 		undo.SetPlayer(ply)
		undo.Finish()
		SafeRemoveEntity(ent)
	end
	elseif ( ent:GetClass() == "halo3_oddball" ) then
		if (SERVER) and IsFirstTimePredicted() then
		local OddBall = ents.Create("oddball_h3")
		OddBall:SetPos( ply:GetEyeTrace().HitPos + OddBall:GetUp() * 8  )
		OddBall:SetAngles(OddBall:AlignAngles(OddBall:GetAngles(), ply:GetRight():Angle() + Angle(0,90,0)))
		OddBall:Spawn()
		OddBall:Activate()
		undo.Create("OddBall H3")
 		undo.AddEntity(OddBall)
 		undo.SetPlayer(ply)
		undo.Finish()
		SafeRemoveEntity(ent)
	end
	elseif ( ent:GetClass() == "halo3_sword" and IsFirstTimePredicted() ) then
	ent:SetSkin(1)
	end
end )

hook.Add( "PlayerCanPickupWeapon", "CantPickUpH3WeapTwice", function( ply, weapon )

 local DisposableWeapsTable = {
	halo3_sntbeam = true,
	halo3_sword = true,
	halo3_redflag = true,
	halo3_blueflag = true,
	halo3_plasmarifle = true,
	halo3_plasmapistol = true,
	halo3_oddball = true,
	halo3_lazer = true,
	halo3_turret = true,
	halo3_plasmaturret = true,
	halo3_hammer = true,
	halo3_golfing = true,
	halo3_flamethrower = true,
	halo3_dualplasmarifle = true,
	halo3_dualplasmapistol = true,
	halo3_assaultbomb = true,
	halo3_beamrifle = true,
	halo3_missilepod = true
}
  if ( DisposableWeapsTable[weapon:GetClass()] and ply:HasWeapon( weapon:GetClass() ) ) then
		return false
	end
end )

hook.Add( "PlayerPostThink", "GiveH3ObjWeapon", function( ply )

	if IsValid(ply) and ply:Alive() and ply.DroppedObjWeaponH3 == true and IsFirstTimePredicted() then
	ply.DroppedObjWeaponH3 = false
	timer.Simple( 0.0001, function() if IsValid(ply) and IsValid(ply:GetPreviousWeapon()) and ply:GetPreviousWeapon():IsWeapon() and IsFirstTimePredicted() then ply:SelectWeapon( ply:GetPreviousWeapon() ) end end )
	end

	if IsValid(ply) and ply:Alive() and ply.PickedUpObjWeaponH3 == true and IsFirstTimePredicted() then
	ply.PickedUpObjWeaponH3 = false
	timer.Simple( 0.0001, function() if IsValid(ply) and ply:GetNWString( "ObjWeaponH3" ) != nil and IsFirstTimePredicted() then timer.Stop( "ResetObjWeaponHaloSWEPS" .. ply:EntIndex() ) ply:Give( ply:GetNWString( "ObjWeaponH3" ) ) ply:SelectWeapon( ply:GetWeapon( ply:GetNWString( "ObjWeaponH3" ) ) ) timer.Create( "ResetObjWeaponHaloSWEPS" .. ply:EntIndex(), 0.5, 1, function() if IsValid(ply) then ply:SetNWString( "ObjWeaponH3", nil ) end end ) end end )
	end

	if IsValid(ply) and ply:Alive() and ply:IsBot() and ply.SetBotSpeedH3 == true and GetConVar( "halosweps_objweaponspeedloss" ):GetInt() == 1 then
	timer.Simple( 0.0001, function() if IsValid(ply) and IsFirstTimePredicted() then 
	ply:SetRunSpeed( baseclass.Get( player_manager.GetPlayerClass(ply) ).RunSpeed )
	ply:SetWalkSpeed( baseclass.Get( player_manager.GetPlayerClass(ply) ).WalkSpeed )
	end end )
	ply.SetBotSpeedH3 = false
	end

	if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and ply:GetNWBool( "H3WeaponTexturesAlt" ) == true and ply:GetViewEntity() == ply then
	ply:SetNWBool( "H3WeaponTexturesAlt", false )
	ply:SetNWBool( "H3WeaponTexturesMain", true )
	timer.Simple( 0.14, function() if IsValid(ply) then ply:SetNWBool( "H3WeaponTexturesMain", false ) end end )
	end

	if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and ply:GetNWBool( "H3DroppedNeedlerWaitForModel" ) == true and ply:GetViewEntity() == ply then
	ply:SetNWBool( "H3DroppedNeedlerWaitForModel", false )
	ply:SetNWBool( "H3DroppedNeedler", true )
	timer.Simple( 0.14, function() if IsValid(ply) then ply:SetNWBool( "H3DroppedNeedler", false ) end end )
	end

	if IsValid(ply) and ply:Alive() and ply:GetNW2Bool( "ScreenShakeSwordH3" ) == true then
	ply:SetNW2Bool( "ScreenShakeSwordH3", false )
	if CLIENT then
	util.ScreenShake( ply:GetPos(), 1, 0.3, 0, 0 )
	end
	end
	
end )

hook.Add( "Think", "AnnouncerDialougeH3", function()

	if ConVarExists("haloreach_grenade") then return end
	if HaloSWEPSDialougeTimer < CurTime() and GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) > 0 and IsFirstTimePredicted() then
	HaloSWEPSDialougeTimer = CurTime() + 0.1
	if GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) >= 0.1 then
	SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) - 0.1 )
	else
	SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) - GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) )
	end
	end
end )

hook.Add( "PlayerEnteredVehicle", "DescopeOnVehicleEnterH3", function( ply, veh, role )

  local ScopedWeaponH3 = {
	halo3_battlerifle = true,
	halo3_beamrifle = true,
	halo3_carbine = true,
	halo3_fuelrodcannon = true,
	halo3_lazer = true,
	halo3_rocketlauncher = true,
	halo3_sniper = true
}

local Halo3SWEPS = {
	halo3_assaultbomb = true,
	halo3_assaultrifle = true,
	halo3_battlerifle = true,
	halo3_beamrifle = true,
	halo3_blueflag = true,
	halo3_bruteshot = true,
	halo3_carbine = true,
	halo3_dualmagnum = true,
	halo3_dualmauler = true,
	halo3_dualsmg = true,
	halo3_dualplasmarifle = true,
	halo3_dualplasmapistol = true,
	halo3_dualspiker = true,
	halo3_flamethrower = true,
	halo3_fuelrodcannon = true,
	halo3_golfing = true,
	halo3_hammer = true,
	halo3_lazer = true,
	halo3_magnum = true,
	halo3_mauler = true,
	halo3_missilepod = true,
	halo3_needler = true,
	halo3_oddball = true,
	halo3_plasmapistol = true,
	halo3_plasmarifle = true,
	halo3_plasmaturret = true,
	halo3_redflag = true,
	halo3_rocketlauncher = true,
	halo3_shotgun = true,
	halo3_smg = true,
	halo3_sniper = true,
	halo3_sntbeam = true,
	halo3_spiker = true,
	halo3_sword = true,
	halo3_turret = true
}

	if IsValid(ply:GetActiveWeapon()) and ScopedWeaponH3[ply:GetActiveWeapon():GetClass()] and ply:GetFOV() != GetConVar("fov_desired"):GetInt() and ply:GetAllowWeaponsInVehicle() == false then
	ply:SetFOV( 0, 0.35 )
	end

	if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and Halo3SWEPS[ply:GetActiveWeapon():GetClass()] then
	if ply:GetActiveWeapon():GetClass() == "halo3_flamethrower" and ply:GetActiveWeapon():GetNextPrimaryFire() > CurTime() and game.SinglePlayer() == false then
	timer.Simple( 0, function() if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and IsFirstTimePredicted() then ply:GetActiveWeapon():EmitSound("Halo3_Flamethrower.FireStop") end end )
	end
	timer.Simple( 0, function() if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and Halo3SWEPS[ply:GetActiveWeapon():GetClass()] then ply:GetActiveWeapon():EmitSound("Halo3_Weapon.StopSound") if ply:GetActiveWeapon():GetClass() == "halo3_flamethrower" then ply:GetActiveWeapon():SetNW2Bool( "HoldingObjectH3", true ) end end end )
	end
end )

hook.Add( "PlayerLeaveVehicle", "FixNeedlerVehiclesH3", function( ply, veh )
if IsValid(ply) then
ply:SetNWBool( "H3DroppedNeedlerWaitForModel", true )
ply:SetNWBool( "H3WeaponTexturesAlt", true )
end end )

hook.Add( "OnPlayerPhysicsPickup", "DescopeOnPickupH3", function( ply, ent )

 local ScopedWeaponH3 = {
	halo3_battlerifle = true,
	halo3_beamrifle = true,
	halo3_carbine = true,
	halo3_fuelrodcannon = true,
	halo3_lazer = true,
	halo3_rocketlauncher = true,
	halo3_sniper = true
}

local Halo3SWEPS = {
	halo3_assaultbomb = true,
	halo3_assaultrifle = true,
	halo3_battlerifle = true,
	halo3_beamrifle = true,
	halo3_blueflag = true,
	halo3_bruteshot = true,
	halo3_carbine = true,
	halo3_dualmagnum = true,
	halo3_dualmauler = true,
	halo3_dualsmg = true,
	halo3_dualplasmarifle = true,
	halo3_dualplasmapistol = true,
	halo3_dualspiker = true,
	halo3_flamethrower = true,
	halo3_fuelrodcannon = true,
	halo3_golfing = true,
	halo3_hammer = true,
	halo3_lazer = true,
	halo3_magnum = true,
	halo3_mauler = true,
	halo3_missilepod = true,
	halo3_needler = true,
	halo3_oddball = true,
	halo3_plasmapistol = true,
	halo3_plasmarifle = true,
	halo3_plasmaturret = true,
	halo3_redflag = true,
	halo3_rocketlauncher = true,
	halo3_shotgun = true,
	halo3_smg = true,
	halo3_sniper = true,
	halo3_sntbeam = true,
	halo3_spiker = true,
	halo3_sword = true,
	halo3_turret = true
}

	if IsValid(ply:GetActiveWeapon()) and ScopedWeaponH3[ply:GetActiveWeapon():GetClass()] and ply:GetFOV() != GetConVar("fov_desired"):GetInt() then
	ply:SetFOV( 0, 0.35 )
	end

	if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and Halo3SWEPS[ply:GetActiveWeapon():GetClass()] then
	if ply:GetActiveWeapon():GetClass() == "halo3_flamethrower" and ply:GetActiveWeapon():GetNextPrimaryFire() > CurTime() and game.SinglePlayer() == false then
	timer.Simple( 0, function() if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and IsFirstTimePredicted() then ply:GetActiveWeapon():EmitSound("Halo3_Flamethrower.FireStop") end end )
	end
	timer.Simple( 0, function() if IsValid(ply) and IsValid(ply:GetActiveWeapon()) and Halo3SWEPS[ply:GetActiveWeapon():GetClass()] then ply:GetActiveWeapon():EmitSound("Halo3_Weapon.StopSound") if ply:GetActiveWeapon():GetClass() == "halo3_flamethrower" then ply:GetActiveWeapon():SetNW2Bool( "HoldingObjectH3", true ) end end end )
	end
end )


hook.Add( "PlayerDeath", "ResetNeedlesOneH3", ResetNeedlesDeath )

hook.Add( "PlayerSpawn", "ResetNeedlesTwoH3", ResetNeedlesSpawn )

hook.Add( "PlayerSpawn", "GiveGrenadesH3", GrenadesHalo3 )

hook.Add( "PlayerInitialSpawn", "ResetNeedlesThreeH3", ResetNeedlesSpawn )

hook.Add( "ScaleNPCDamage", "NoHeadShotMultiH3", function( ply, hitgroup, dmginfo )

local NoHeadShotWeaps = {
	halo3_sntbeam = true,
	halo3_dualsmg = true,
	halo3_assaultrifle = true,
	halo3_turret = true,
	halo3_smg = true
}

	 if IsValid(dmginfo:GetAttacker()) and dmginfo:GetAttacker():IsPlayer() and IsValid(dmginfo:GetAttacker():GetActiveWeapon()) and dmginfo:IsBulletDamage() and NoHeadShotWeaps[dmginfo:GetAttacker():GetActiveWeapon():GetClass()] and hitgroup == HITGROUP_HEAD then
		dmginfo:ScaleDamage( 0.5 )
	 end
end )

hook.Add( "ScalePlayerDamage", "NoHeadShotMultiH3", function( ply, hitgroup, dmginfo )

local NoHeadShotWeaps = {
	halo3_sntbeam = true,
	halo3_dualsmg = true,
	halo3_assaultrifle = true,
	halo3_turret = true,
	halo3_smg = true
}

	 if IsValid(dmginfo:GetAttacker()) and dmginfo:GetAttacker():IsPlayer() and IsValid(dmginfo:GetAttacker():GetActiveWeapon()) and dmginfo:IsBulletDamage() and NoHeadShotWeaps[dmginfo:GetAttacker():GetActiveWeapon():GetClass()] and hitgroup == HITGROUP_HEAD then
		dmginfo:ScaleDamage( 0.5 )
	 end
end )

hook.Add( "OnEntityCreated", "AssignNextBotsHalo3", function( ent )
	if ( ent:IsNextBot() and IsValid(ent) ) then
		ent:SetNW2Bool( "HaloSWEPSEntIsNextBot", true )
	end
end )

hook.Add( "OnEntityCreated", "SetUpNeedlerVarH3", function( ent )
	if ent:IsNPC() or ent:IsNextBot() and IsValid(ent) then
		ent:SetNW2Int( "Niko663HaloSWEPSNeedles", 0 )
	end
	if IsValid(ent) and ent:GetClass() == "gmod_sent_vehicle_fphysics_wheel" then
		timer.Simple( 0.1, function() if IsValid(ent) then ent:RemoveFlags(FL_OBJECT) end end )
	end
end )

hook.Add( "OnNPCKilled", "DeadFromNeedlerH3", function( npc, attacker, inflictor )
	if IsValid(npc) then
		npc.DeadByNeedlerH3 = true
		npc.DeadBySpikerH3 = true
	end
end )

hook.Add( "PlayerInitialSpawn", "PrecacheBoomHalo3", function( ply )
ply:EmitSound( "halo3/bruteshot_expl_1.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/bruteshot_expl_2.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/bruteshot_expl_3.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/grenade_expl_1.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/grenade_expl_2.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/grenade_expl_3.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/fuelrod_expl_1.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/fuelrod_expl_2.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/mpod_expl_1.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/mpod_expl_2.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/rocket_expl_1.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/rocket_expl_2.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/rocket_expl_3.ogg", 75, 100, 0 )
ply:EmitSound( "halo3/needler_expl.ogg", 75, 100, 0 )
end )

hook.Add( "WeaponEquip", "H3PickedUpObjWeapons", function( weapon, ply )

if IsFirstTimePredicted() then

if weapon:GetClass() == "halo3_redflag" and ply:GetNW2Bool( "PickedUpRedFlagH3" ) == false then
ply:SetNW2Bool( "PickedUpRedFlagH3", true ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif weapon:GetClass() == "halo3_redflag" and ply:GetNW2Bool( "PickedUpRedFlagH3" ) == true then
ply:SetNW2Bool( "PickedUpRedFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end
if weapon:GetClass() == "halo3_blueflag" and ply:GetNW2Bool( "PickedUpBlueFlagH3" ) == false then
ply:SetNW2Bool( "PickedUpBlueFlagH3", true ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif weapon:GetClass() == "halo3_blueflag" and ply:GetNW2Bool( "PickedUpBlueFlagH3" ) == true then
ply:SetNW2Bool( "PickedUpBlueFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end
if weapon:GetClass() == "halo3_oddball" and ply:GetNW2Bool( "PickedUpBallH3" ) == false then
ply:SetNW2Bool( "PickedUpBallH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.3 )
elseif weapon:GetClass() == "halo3_oddball" and ply:GetNW2Bool( "PickedUpBallH3" ) == true then
ply:SetNW2Bool( "PickedUpBallH3", false )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.3 )
end
if weapon:GetClass() == "halo3_assaultbomb" and ply:GetNW2Bool( "PickedUpBombH3" ) == false then
ply:SetNW2Bool( "PickedUpBombH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.55 )
elseif weapon:GetClass() == "halo3_assaultbomb" and ply:GetNW2Bool( "PickedUpBombH3" ) == true then
ply:SetNW2Bool( "PickedUpBombH3", false )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.55 )
end

end

end )

hook.Add("PlayerDroppedWeapon", "H3FixWeaponDrops", function( owner, wep )

if IsValid(owner) and owner:IsNPC() then return end

if wep:GetClass() == "halo3_assaultrifle" or wep:GetClass() == "halo3_dualplasmapistol" and IsValid(owner) or wep:GetClass() == "halo3_dualplasmarifle" and IsValid(owner) or wep:GetClass() == "halo3_plasmarifle" and IsValid(owner) or wep:GetClass() == "halo3_plasmapistol" and IsValid(owner) then
	owner:SetNWBool( "H3WeaponTexturesAlt", true )
	end

if IsValid(wep) and wep:GetClass() == "halo3_flamethrower" then
wep:StopSound(wep.sndFlamerH3Loop)
wep:StopSound(wep.sndFlamerH3Pilot)
end

local ObjectiveH3 = {
	halo3_assaultbomb = true,
	halo3_blueflag = true,
	halo3_redflag = true,
	halo3_flamethrower = true,
	halo3_missilepod = true,
	halo3_turret = true,
	halo3_plasmaturret = true,
	halo3_oddball = true
}

if IsValid(owner) and ObjectiveH3[wep:GetClass()] and GetConVar( "halosweps_objweaponspeedloss" ):GetInt() == 1 or IsValid(owner) and wep:GetClass() == "halo3_sword" then
timer.Simple( 0.0001, function() if IsValid(owner) and IsFirstTimePredicted() then 
	owner:SetRunSpeed( baseclass.Get( player_manager.GetPlayerClass(owner) ).RunSpeed )
	owner:SetWalkSpeed( baseclass.Get( player_manager.GetPlayerClass(owner) ).WalkSpeed )
	end end )
end

if SERVER and IsValid(owner) and wep:GetClass() == "halo3_dualplasmapistol" or IsValid(owner) and wep:GetClass() == "halo3_dualplasmarifle" then
	local DualWeildModelH3 = owner:GetViewModel( 1 )
	if ( IsValid( DualWeildModelH3 )  ) then
		DualWeildModelH3:SetWeaponModel( "", nil )
	end
	
	end

if wep:GetClass() == "halo3_needler" and IsValid(owner) and IsValid(owner:GetViewModel()) then
	owner:SetNWBool( "H3DroppedNeedlerWaitForModel", true )
	end

if wep:GetClass() == "halo3_sword" and wep:Clip1() > 0 then
timer.Simple( 0.075, function() if IsValid(wep) then wep:SetSkin(0) wep:StopSound(wep.SwordIdleSound) end end )
elseif wep:GetClass() == "halo3_sword" and wep:Clip1() <= 0 then
timer.Simple( 0.075, function() if IsValid(wep) then wep:SetSkin(1) wep:StopSound(wep.SwordIdleSound) end end )
end

if IsValid(wep) and IsValid(owner) then
if wep:GetClass() == "halo3_assaultbomb" then
owner:StopSound("Halo3_Bomb.Deploy")
elseif wep:GetClass() == "halo3_assaultrifle" then
owner:StopSound("Halo3_AR.Deploy")
elseif wep:GetClass() == "halo3_battlerifle" then
owner:StopSound("Halo3_BR.Deploy")
elseif wep:GetClass() == "halo3_beamrifle" then
owner:StopSound("Halo3_Beam.Deploy")
elseif wep:GetClass() == "halo3_blueflag" or wep:GetClass() == "halo3_redflag" then
owner:StopSound("Halo3_Flag.Deploy")
elseif wep:GetClass() == "halo3_bruteshot" then
owner:StopSound("Halo3_BS.Deploy")
elseif wep:GetClass() == "halo3_carbine" then
owner:StopSound("Halo3_Carbine.Deploy")
elseif wep:GetClass() == "halo3_flamethrower" then
owner:StopSound("Halo3_Flamethrower.Deploy")
owner:StopSound("Halo3_Flamethrower.DeployAlt")
elseif wep:GetClass() == "halo3_fuelrodcannon" then
owner:StopSound("Halo3_FR.Deploy")
elseif wep:GetClass() == "halo3_hammer" or wep:GetClass() == "halo3_golfing" then
owner:StopSound("Halo3_Hammer.Deploy")
elseif wep:GetClass() == "halo3_lazer" then
owner:StopSound("Halo3_Lazer.Deploy")
elseif wep:GetClass() == "halo3_magnum" or wep:GetClass() == "halo3_dualmagnum" then
owner:StopSound("Halo3_Magnum.Deploy")
elseif wep:GetClass() == "halo3_mauler" or wep:GetClass() == "halo3_dualmauler" then
owner:StopSound("Halo3_Mauler.Deploy")
elseif wep:GetClass() == "halo3_needler" then
owner:StopSound("Halo3_Needler.Deploy")
elseif wep:GetClass() == "halo3_oddball" then
owner:StopSound("Halo3_Ball.Deploy")
elseif wep:GetClass() == "halo3_plasmapistol" or wep:GetClass() == "halo3_dualplasmapistol" then
owner:StopSound("Halo3_PP.Deploy")
elseif wep:GetClass() == "halo3_plasmarifle" or wep:GetClass() == "halo3_dualplasmarifle" then
owner:StopSound("Halo3_PR.Deploy")
elseif wep:GetClass() == "halo3_plasmaturret" or wep:GetClass() == "halo3_turret" or wep:GetClass() == "halo3_missilepod" then
owner:StopSound("Halo3_SupportWeapon.Deploy")
elseif wep:GetClass() == "halo3_rocketlauncher" then
owner:StopSound("Halo3_Rocket.Deploy")
elseif wep:GetClass() == "halo3_shotgun" then
owner:StopSound("Halo3_Shotgun.Deploy")
elseif wep:GetClass() == "halo3_smg" or wep:GetClass() == "halo3_dualsmg" then
owner:StopSound("Halo3_SMG.Deploy")
elseif wep:GetClass() == "halo3_sniper" then
owner:StopSound("Halo3_Sniper.Deploy")
elseif wep:GetClass() == "halo3_spiker" or wep:GetClass() == "halo3_dualspiker" then
owner:StopSound("Halo3_Spiker.Deploy")
end
end

if IsFirstTimePredicted() then

if wep:GetClass() == "halo3_redflag" and owner:GetNW2Bool( "DroppedRedFlagH3" ) == false then
owner:SetNW2Bool( "DroppedRedFlagH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif wep:GetClass() == "halo3_redflag" and owner:GetNW2Bool( "DroppedRedFlagH3" ) == true then
owner:SetNW2Bool( "DroppedRedFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end

if wep:GetClass() == "halo3_blueflag" and owner:GetNW2Bool( "DroppedBlueFlagH3" ) == false then
owner:SetNW2Bool( "DroppedBlueFlagH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif wep:GetClass() == "halo3_blueflag" and owner:GetNW2Bool( "DroppedBlueFlagH3" ) == true then
owner:SetNW2Bool( "DroppedBlueFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end

if wep:GetClass() == "halo3_oddball" and owner:GetNW2Bool( "DroppedBallH3" ) == false then
owner:SetNW2Bool( "DroppedBallH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.1 )
elseif wep:GetClass() == "halo3_oddball" and owner:GetNW2Bool( "DroppedBallH3" ) == true then
owner:SetNW2Bool( "DroppedBallH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.1 )
end

if wep:GetClass() == "halo3_assaultbomb" and owner:GetNW2Bool( "DroppedBombH3" ) == false then
owner:SetNW2Bool( "DroppedBombH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.3 )
elseif wep:GetClass() == "halo3_assaultbomb" and owner:GetNW2Bool( "DroppedBombH3" ) == true then
owner:SetNW2Bool( "DroppedBombH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.3 )
end

end

end )

hook.Add("EntityRemoved", "H3ObjectiveDropSounds", function( ent )

local Halo3Projectiles = {
bruteshot_h3 = true,
frag_grenade_h3 = true,
fuelrod_h3 = true,
missile_h3 = true,
needle_h3 = true,
plasma_ball_pistol_oc_h3 = true,
rocket_h3 = true
}

if Halo3Projectiles[ent:GetClass()] then
ent:StopSound("Halo3_BS.FlyBy")
ent:StopSound("Halo3_Grenade.Loop")
ent:StopSound("Halo3_FR.FlyBy")
ent:StopSound("Halo3_Needler.FlyBy")
ent:StopSound("Halo3_MP.FlyBy")
ent:StopSound("Halo3_PP.FlyBy")
ent:StopSound("Halo3_Rocket.FlyBy")
end

if ent:GetClass() == "halo3_lazer" and IsValid(ent:GetOwner()) and ent:GetNW2Bool( "ChargingLazerH3" ) == true then
ent:SetNW2Bool( "ChargingLazerH3", false)
ent:GetOwner():EmitSound("halo3/lazer_stop.ogg", 75, 100, 0.35)
end

if ent:GetClass() == "halo3_assaultrifle" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and ent:GetOwner():GetActiveWeapon() == ent then
		ent:GetOwner():SetNWBool( "H3WeaponTexturesAlt", true )
	end
if ent:GetClass() == "halo3_plasmarifle" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and ent:GetOwner():GetActiveWeapon() == ent then
		ent:GetOwner():SetNWBool( "H3WeaponTexturesAlt", true )
	end
if ent:GetClass() == "halo3_plasmapistol" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and ent:GetOwner():GetActiveWeapon() == ent then
		ent:GetOwner():SetNWBool( "H3WeaponTexturesAlt", true )
	end
if ent:GetClass() == "halo3_dualplasmapistol" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and IsValid(ent:GetOwner():GetViewModel(1)) and ent:GetOwner():GetActiveWeapon() == ent or ent:GetClass() == "halo3_dualplasmarifle" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and IsValid(ent:GetOwner():GetViewModel(1)) and ent:GetOwner():GetActiveWeapon() == ent then
		ent:GetOwner():SetNWBool( "H3WeaponTexturesAlt", true )
end

if ent:GetClass() == "halo3_needler" and IsValid(ent) and IsValid(ent:GetOwner()) and ent:GetOwner():IsPlayer() and IsValid(ent:GetOwner():GetViewModel()) and ent:GetOwner():GetActiveWeapon() == ent then
		ent:GetOwner():SetNWBool( "H3DroppedNeedlerWaitForModel", true )
	end

if IsValid(ent) and ent:GetClass() == "halo3_flamethrower" then
ent:StopSound(ent.sndFlamerH3Loop)
ent:StopSound(ent.sndFlamerH3Pilot)
end

if IsFirstTimePredicted() and IsValid(ent:GetOwner()) and ent.DroppedByPlayerH3 == true then

if ent:GetClass() == "halo3_redflag" and ent:GetOwner():GetNW2Bool( "DroppedRedFlagH3" ) == false then
ent:GetOwner():SetNW2Bool( "DroppedRedFlagH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif ent:GetClass() == "halo3_redflag" and ent:GetOwner():GetNW2Bool( "DroppedRedFlagH3" ) == true then
ent:GetOwner():SetNW2Bool( "DroppedRedFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end

if ent:GetClass() == "halo3_blueflag" and ent:GetOwner():GetNW2Bool( "DroppedBlueFlagH3" ) == false then
ent:GetOwner():SetNW2Bool( "DroppedBlueFlagH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
elseif ent:GetClass() == "halo3_blueflag" and ent:GetOwner():GetNW2Bool( "DroppedBlueFlagH3" ) == true then
ent:GetOwner():SetNW2Bool( "DroppedBlueFlagH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.4 )
end

if ent:GetClass() == "halo3_oddball" and ent:GetOwner():GetNW2Bool( "DroppedBallH3" ) == false then
ent:GetOwner():SetNW2Bool( "DroppedBallH3", true )
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.1 )
elseif ent:GetClass() == "halo3_oddball" and ent:GetOwner():GetNW2Bool( "DroppedBallH3" ) == true then
ent:GetOwner():SetNW2Bool( "DroppedBallH3", false ) 
SetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge", GetGlobalFloat( "NextHaloSWEPSAnnouncerDialouge" ) + 1.1 )
end

end

end )

hook.Add("PostDrawViewModel", "H3ResetTextures", function( viewmodel, player, weapon )

	if IsValid(player) and IsValid(viewmodel) and player:GetNWBool( "H3WeaponTexturesMain" ) == true then
	viewmodel:SetSubMaterial( 0, nil )
	viewmodel:SetSubMaterial( 1, nil )
	viewmodel:SetSubMaterial( 3, nil )
	if IsValid(player:GetViewModel(1)) then
	player:GetViewModel(1):SetSubMaterial( 0, nil )
	player:GetViewModel(1):SetSubMaterial( 3, nil )
	end
	end

	if IsValid(player) and IsValid(viewmodel) and player:GetNWBool( "H3DroppedNeedler" ) == true then
	viewmodel:ManipulateBonePosition( 38, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 39, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 40, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 41, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 42, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 43, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 44, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 45, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 46, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 47, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 48, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 49, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 50, Vector(0,0,0) )
	viewmodel:ManipulateBonePosition( 51, Vector(0,0,0) )
	end

end )

hook.Add( "PlayerSwitchWeapon", "H3FixWeaponSwitch", function( ply, oldWeapon, newWeapon )

if game.SinglePlayer() == true and IsValid(oldWeapon) and IsValid(ply) and IsValid(ply:GetViewModel()) and oldWeapon:GetClass() == "halo3_needler" then
ply:SetNWBool( "H3DroppedNeedler", true )
timer.Simple( 0.14, function() if IsValid(ply) then ply:SetNWBool( "H3DroppedNeedler", false ) end end )
end

Halo3TexturedWeaps = {
halo3_assaultrifle = true,
halo3_dualplasmapistol = true,
halo3_dualplasmarifle = true,
halo3_plasmapistol = true,
halo3_plasmarifle = true
}

if game.SinglePlayer() == true and IsValid(oldWeapon) and IsValid(ply) and IsValid(ply:GetViewModel()) and Halo3TexturedWeaps[oldWeapon:GetClass()] then
ply:SetNWBool( "H3WeaponTexturesAlt", true )
end

end )

hook.Add("PreCleanupMap", "HaloSWEPSRemoveNeedles", function()
for _, ply in ipairs( player.GetAll() ) do
	if IsValid(ply) then ply:SetNW2Int("Niko663HaloSWEPSNeedles", 0 ) end
	end
end )

hook.Add("PopulateToolMenu", "HaloSWEPSGrenadeMenu", function()
		spawnmenu.AddToolMenuOption("Utilities", "Admin", "halosweps_options", "Halo SWEPS", "", "", function(panel)
			panel:SetName("Options")
			panel:AddControl("Header", {
				Text = "",
				Description = "Halo SWEPS - Options."
			})

			panel:AddControl("Checkbox", {
				Label = "Halo CE SWEPS - Allow Grenades",
				Command = "halo1_grenade"
			})

			panel:AddControl("Checkbox", {
				Label = "Halo 2 SWEPS - Allow Grenades",
				Command = "halo2_grenade"
			})

			panel:AddControl("Checkbox", {
				Label = "Halo 3 SWEPS - Allow Grenades",
				Command = "halo3_grenade"
			})

			panel:AddControl("Checkbox", {
				Label = "Halo 3: ODST SWEPS - Allow Grenades",
				Command = "halo3o_grenade"
			})

			panel:AddControl("Checkbox", {
				Label = "Halo: Reach SWEPS - Allow Grenades",
				Command = "haloreach_grenade"
			})

			panel:AddControl("Checkbox", {
				Label = "Give Grenades On Spawn",
				Command = "halosweps_givegrenades"
			})

			panel:AddControl("Checkbox", {
				Label = "9999 Grenades",
				Command = "halosweps_9999nades"
			})

			panel:AddControl("Checkbox", {
				Label = "Objective/Support Weapons Reduce Move Speed?",
				Command = "halosweps_objweaponspeedloss"
			})

			panel:AddControl("Checkbox", {
				Label = "Enable Shell Ejection Effects?",
				Command = "halosweps_shelleffects"
			})
end)

end)

sound.Add(
{
    name = "Halo3_Weapon.StopSound",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/null.ogg"
})

sound.Add({
	name =				"Halo3_Beam.Melee",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/beamrifle_melee_1.ogg", "halo3/beamrifle_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_Beam.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/beamrifle_fire_1.ogg", "halo3/beamrifle_fire_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Beam.OH",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_overheat.ogg"
})

sound.Add(
{
    name = "Halo3_Beam.Rotate",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_fire_rotate.ogg"
})

sound.Add(
{
    name = "Halo3_Beam.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Beam.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_Beam.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_BS.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/bruteshot_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_BS.FlyBy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/bruteshot_flyby.wav"
})

sound.Add({
	name =				"Halo3_BS.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/bruteshot_fire_1.ogg", "halo3/bruteshot_fire_2.ogg"}
})

sound.Add(
{
    name = "Halo3_BS.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/bruteshot_melee.ogg"
})

sound.Add(
{
    name = "Halo3_BS.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/bruteshot_reload.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_reload.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_melee.ogg"
})

sound.Add({
	name =				"Halo3_Carbine.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/carbine_fire_1.ogg", "halo3/carbine_fire_2.ogg"}
})

sound.Add(
{
    name = "Halo3_FR.FlyBy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_flyby.wav"
})

sound.Add(
{
    name = "Halo3_FR.ActivateRod",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_activate.ogg"
})

sound.Add(
{
    name = "Halo3_FR.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_FR.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_FR.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_melee.ogg"
})

sound.Add(
{
    name = "Halo3_FR.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/fuelrod_reload.ogg"
})

sound.Add({
	name =				"Halo3_FR.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/fuelrod_fire_1.ogg", "halo3/fuelrod_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_FR.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/fuelrod_deploy_1.ogg", "halo3/fuelrod_deploy_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Hammer.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/hammer_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Hammer.Hit",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/hammer_melee.ogg"
})

sound.Add({
	name =				"Halo3_Hammer.Swing",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/hammer_hit_1.ogg", "halo3/hammer_hit_2.ogg", "halo3/hammer_hit_3.ogg"}
})

sound.Add({
	name =				"Halo3_Mauler.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/mauler_deploy_1.ogg", "halo3/mauler_deploy_2.ogg"}
})

sound.Add({
	name =				"Halo3_Mauler.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/mauler_fire_1.ogg", "halo3/mauler_fire_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Mauler.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/mauler_melee.ogg"
})

sound.Add({
	name =				"Halo3_Mauler.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/mauler_reload_1.ogg", "halo3/mauler_reload_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Mauler.ReloadDual",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/mauler_dualreload.ogg"
})

sound.Add(
{
    name = "Halo3_Needler.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/needler_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Needler.SuperCombine",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/needler_expl.ogg"
})

sound.Add(
{
    name = "Halo3_Needler.FlyBy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/needler_flyby.wav"
})

sound.Add({
	name =				"Halo3_Needler.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/needler_fire_1.ogg", "halo3/needler_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_Needler.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/needler_melee_1.ogg", "halo3/needler_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Needler.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/needler_reload.ogg"
})

sound.Add(
{
    name = "Halo3_PP.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_deploy.ogg"
})

sound.Add({
	name =				"Halo3_PP.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/ppistol_fire_1.ogg", "halo3/ppistol_fire_2.ogg", "halo3/ppistol_fire_3.ogg"}
})

sound.Add({
	name =				"Halo3_PP.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/ppistol_melee_1.ogg", "halo3/ppistol_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_PP.OH",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_overheat.ogg"
})

sound.Add(
{
    name = "Halo3_PP.OHExit",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_ohexit.ogg"
})

sound.Add(
{
    name = "Halo3_PP.ChargeFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_chargeshot.ogg"
})

sound.Add(
{
    name = "Halo3_PP.ChargeStart",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_chargestart.ogg"
})

sound.Add(
{
    name = "Halo3_PP.FlyBy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/ppistol_flyby.wav"
})

sound.Add(
{
    name = "Halo3_PR.OH",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/prifle_overheat.ogg"
})

sound.Add(
{
    name = "Halo3_PR.OHExit",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/prifle_overheatexit.ogg"
})

sound.Add(
{
    name = "Halo3_PR.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/prifle_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_PR.Fire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 90,
    sound = "halo3/pr_shoot.ogg"
})

sound.Add({
	name =				"Halo3_PR.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/prifle_melee_1.ogg", "halo3/prifle_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_SNT.FireStart",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sntbeam_firestart.ogg"
})

sound.Add(
{
    name = "Halo3_SNT.FireStop",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sntbeam_firestop.ogg"
})

sound.Add(
{
    name = "Halo3_SNT.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sntbeam_melee.ogg"
})

sound.Add(
{
    name = "Halo3_SNT.OH",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sntbeam_overheat.ogg"
})

sound.Add(
{
    name = "Halo3_Spiker.ReloadDual",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/spiker_dualreload.ogg"
})

sound.Add(
{
    name = "Halo3_Spiker.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/spiker_reload.ogg"
})

sound.Add(
{
    name = "Halo3_Spiker.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/spiker_deploy.ogg"
})

sound.Add({
	name =				"Halo3_Spiker.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/spiker_fire_1.ogg", "halo3/spiker_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_Spiker.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/spiker_melee_1.ogg", "halo3/spiker_melee_2.ogg", "halo3/spiker_melee_3.ogg"}
})

sound.Add(
{
    name = "Halo3_ES.Deploy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sword_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_ES.DeployAlt",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sword_deploy2.ogg"
})

sound.Add(
{
    name = "Halo3_ES.Draw",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sword_draw.ogg"
})

sound.Add(
{
    name = "Halo3_ES.Melee",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sword_melee.ogg"
})

sound.Add({
	name =				"Halo3_ES.Melee_Empty",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sword_melee_empty_1.ogg", "halo3/sword_melee_empty_2.ogg"}
})

sound.Add({
	name =				"Halo3_ES.Swing",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sword_swing_1.ogg", "halo3/sword_swing_2.ogg"}
})

sound.Add({
	name =				"Halo3_ES.Impact",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sword_hit_1.ogg", "halo3/sword_hit_2.ogg"}
})

sound.Add({
	name =				"Halo3_AR.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/ar_fire_1.ogg", "halo3/ar_fire_2.ogg", "halo3/ar_fire_3.ogg"}
})

sound.Add({
	name =				"Halo3_AR.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/ar_deploy_1.ogg", "halo3/ar_deploy_2.ogg"}
})

sound.Add({
	name =				"Halo3_AR.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/ar_melee_1.ogg", "halo3/ar_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_AR.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/ar_reload_1.ogg", "halo3/ar_reload_2.ogg"}
})

sound.Add({
	name =				"Halo3_BR.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/br_reload_1.ogg", "halo3/br_reload_2.ogg", "halo3/br_reload_3.ogg"}
})

sound.Add({
	name =				"Halo3_BR.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/br_melee_1.ogg", "halo3/br_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_BR.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/br_deploy_1.ogg", "halo3/br_deploy_2.ogg"}
})

sound.Add({
	name =				"Halo3_BR.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			75,
	sound =				{"halo3/br_fire_1.ogg", "halo3/br_fire_2.ogg", "halo3/br_fire_3.ogg", "halo3/br_fire_4.ogg", "halo3/br_fire_5.ogg", "halo3/br_fire_6.ogg", "halo3/br_fire_7.ogg"}
})

sound.Add(
{
    name = "Halo3_BR.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/br_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_BR.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/br_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.Fire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_fire.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.Charge",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_charge.ogg"
})

sound.Add(
{
    name = "Halo3_Lazer.StopCharge",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/lazer_stop.ogg"
})

sound.Add({
	name =				"Halo3_Lazer.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/lazer_melee_1.ogg", "halo3/lazer_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Magnum.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/magnum_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_DualMagnum.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/magnum_ddeploy.ogg"
})

sound.Add(
{
    name = "Halo3_Magnum.Reload",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/magnum_reload.ogg"
})

sound.Add(
{
    name = "Halo3_Magnum.ReloadDual",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/magnum_dualreload.ogg"
})

sound.Add({
	name =				"Halo3_Magnum.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/magnum_fire_1.ogg", "halo3/magnum_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_Magnum.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/magnum_melee_1.ogg", "halo3/magnum_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Grenade.Loop",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/grenade_loop.wav"
})

sound.Add(
{
    name = "Halo3_MP.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/mpod_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_MP.FlyBy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/mpod_proj_loop.wav"
})

sound.Add(
{
    name = "Halo3_Flamethrower.Deploy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/flamethrower_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Flamethrower.DeployAlt",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/flamethrower_deploy2.ogg"
})

sound.Add(
{
    name = "Halo3_Flamethrower.FireStop",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/flamethrower_impact_2.ogg"
})

sound.Add(
{
    name = "Halo3_Flamethrower.OH",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/flamethrower_overheat.ogg"
})

sound.Add(
{
    name = "Halo3_Flamethrower.Impact_1",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/flamethrower_impact_1.ogg", "halo3/flamethrower_impact_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Flamethrower.Impact_2",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/flamethrower_impact_3.ogg"
})

sound.Add(
{
    name = "Halo3_Flamethrower.Burn",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/flamethrower_burn_1.ogg", "halo3/flamethrower_burn_2.ogg"}
})

sound.Add({
	name =				"Halo3_MP.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/mpod_fire_1.ogg", "halo3/mpod_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_MP.Burst",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/mpod_burst_1.ogg", "halo3/mpod_burst_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Rocket.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/rocket_deploy.ogg"
})

sound.Add(
{
    name = "Halo3_Rocket.Rotate",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/rocket_rotate.ogg"
})

sound.Add(
{
    name = "Halo3_Shotgun.FirePump",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/shotgun_pump.ogg"
})

sound.Add({
	name =				"Halo3_Rocket.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/rocket_fire_1.ogg", "halo3/rocket_fire_2.ogg", "halo3/rocket_fire_3.ogg"}
})

sound.Add({
	name =				"Halo3_Rocket.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/rocket_melee_1.ogg", "halo3/rocket_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_Rocket.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/rocket_reload_1.ogg", "halo3/rocket_reload_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Rocket.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/rocket_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_Rocket.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/rocket_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_Rocket.FlyBy",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/rocket_flyby_h3.wav"
})

sound.Add(
{
    name = "Halo3_Shotgun.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/shotgun_deploy.ogg"
})

sound.Add({
	name =				"Halo3_Shotgun.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/shotgun_fire_1.ogg", "halo3/shotgun_fire_2.ogg", "halo3/shotgun_fire_3.ogg"}
})

sound.Add({
	name =				"Halo3_Shotgun.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/shotgun_melee_1.ogg", "halo3/shotgun_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Shotgun.ShellInsert",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/shotgun_shell.ogg"
})

sound.Add(
{
    name = "Halo3_Shotgun.Pump",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/shotgun_reload.ogg"
})

sound.Add(
{
    name = "Halo3_SMG.ReloadDual",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/smg_dualreload.ogg"
})

sound.Add({
	name =				"Halo3_SMG.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/smg_deploy_1.ogg", "halo3/smg_deploy_2.ogg", "halo3/smg_deploy_3.ogg"}
})

sound.Add({
	name =				"Halo3_SMG.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/smg_fire_1.ogg", "halo3/smg_fire_2.ogg"}
})

sound.Add({
	name =				"Halo3_SMG.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/smg_melee_1.ogg", "halo3/smg_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_SMG.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/smg_reload_1.ogg", "halo3/smg_reload_2.ogg", "halo3/smg_reload_3.ogg"}
})

sound.Add({
	name =				"Halo3_Sniper.Deploy",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sniper_deploy_1.ogg", "halo3/sniper_deploy_2.ogg", "halo3/sniper_deploy_3.ogg"}
})

sound.Add({
	name =				"Halo3_Sniper.Melee",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sniper_melee_1.ogg", "halo3/sniper_melee_2.ogg"}
})

sound.Add({
	name =				"Halo3_Sniper.Reload",
	channel =			CHAN_WEAPON,
	volume =			1.0,
	soundlevel =			80,
	sound =				{"halo3/sniper_reload_1.ogg", "halo3/sniper_reload_2.ogg", "halo3/sniper_reload_3.ogg"}
})

sound.Add({
	name =				"Halo3_Sniper.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			90,
	sound =				{"halo3/sniper_fire_1.ogg", "halo3/sniper_fire_2.ogg", "halo3/sniper_fire_3.ogg"}
})

sound.Add(
{
    name = "Halo3_Sniper.Zoom",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sniper_zoom.ogg"
})

sound.Add(
{
    name = "Halo3_Sniper.ZoomOut",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/sniper_zoomout.ogg"
})

sound.Add(
{
    name = "Halo3_SupportWeapon.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/turret_deploy.ogg"
})

sound.Add({
	name =				"Halo3_Turret.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			92,
	sound =				{"halo3/turret_fire_1.ogg", "halo3/turret_fire_2.ogg", "halo3/turret_fire_3.ogg"}
})

sound.Add({
	name =				"Halo3_PlasmaTurret.Fire",
	channel =			CHAN_STATIC,
	volume =			1.0,
	soundlevel =			87,
	sound =				{"halo3/plasmaturret_fire_1.ogg", "halo3/plasmaturret_fire_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Nade.Throw",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/grenade_toss.ogg"
})

sound.Add(
{
    name = "Halo3_Nade.ThrowLaser",
    channel = CHAN_VOICE,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/grenade_toss.ogg"
})

sound.Add(
{
    name = "Halo3_Flag.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/flag_deploy_1.ogg", "halo3/flag_deploy_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Flag.Melee",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/flag_melee_1.ogg", "halo3/flag_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Ball.Melee",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/ball_melee_1.ogg", "halo3/ball_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Bomb.Melee",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/ball_melee_1.ogg", "halo3/ball_melee_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Ball.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/ball_deploy_1.ogg", "halo3/ball_deploy_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Bomb.Deploy",
    channel = CHAN_WEAPON,
    volume = 1.0,
    soundlevel = 80,
    sound = {"halo3/bomb_deploy_1.ogg", "halo3/bomb_deploy_2.ogg"}
})

sound.Add(
{
    name = "Halo3_Beam.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/beamrifle_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_UNSC.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/unsc_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_Covie.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/covie_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_SMG.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/smg_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_Magnum.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/magnum_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_Carbine.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/carbine_dryfire.ogg"
})

sound.Add(
{
    name = "Halo3_Needler.DryFire",
    channel = CHAN_STATIC,
    volume = 1.0,
    soundlevel = 80,
    sound = "halo3/needler_dryfire.ogg"
})